{"ast":null,"code":"// ChannelList.jsx\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'../styles/channelList.css';import{jsx as _jsx}from\"react/jsx-runtime\";function ChannelList(){const[channels,setChannels]=useState([]);const[currentChannelId,setCurrentChannelId]=useState(null);let navigate=useNavigate();useEffect(()=>{fetchChannels();},[]);const fetchChannels=async()=>{try{const response=await fetch('http://127.0.0.1:5000/api/channels',{method:'GET',headers:{'Content-Type':'application/json'}});const data=await response.json();if(data.Success){setChannels(data.channels);}else{console.log('Display failed');}}catch(error){console.error('Error during display channels:',error);}};const handleChannelClick=channelId=>{navigate(\"/channel/\".concat(channelId));setCurrentChannelId(channelId);};return/*#__PURE__*/_jsx(\"div\",{className:\"channel-list\",children:channels.map(channel=>/*#__PURE__*/_jsx(\"div\",{// Apply 'current-channel' class if this is the current channel\nclassName:\"channel \".concat(currentChannelId===channel.id?'current-channel':''),onClick:()=>handleChannelClick(channel.id),children:channel.name},channel.id))});}export default ChannelList;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","ChannelList","channels","setChannels","currentChannelId","setCurrentChannelId","navigate","fetchChannels","response","fetch","method","headers","data","json","Success","console","log","error","handleChannelClick","channelId","concat","className","children","map","channel","id","onClick","name"],"sources":["/Users/wangchenhui/Desktop/final_project_belay/react/src/components/ChannelList.jsx"],"sourcesContent":["// ChannelList.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/channelList.css';\n\nfunction ChannelList() {\n  const [channels, setChannels] = useState([]);\n  const [currentChannelId, setCurrentChannelId] = useState(null);\n  let navigate = useNavigate();\n\n  useEffect(() => {\n    fetchChannels();\n  }, []);\n\n  const fetchChannels = async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/channels', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      const data = await response.json();\n      if (data.Success) {\n        setChannels(data.channels);\n      } else {\n        console.log('Display failed');\n      }\n    } catch (error) {\n      console.error('Error during display channels:', error);\n    }\n  };\n\n  const handleChannelClick = (channelId) => {\n    navigate(`/channel/${channelId}`);\n    setCurrentChannelId(channelId);\n  };\n\n  return (\n    <div className=\"channel-list\">\n      {channels.map(channel => (\n        <div\n          key={channel.id}\n          // Apply 'current-channel' class if this is the current channel\n          className={`channel ${currentChannelId === channel.id ? 'current-channel' : ''}`} \n          onClick={() => handleChannelClick(channel.id)}\n        >\n          {channel.name}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ChannelList;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACQ,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC9D,GAAI,CAAAU,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE5BD,SAAS,CAAC,IAAM,CACdU,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAE,CACjEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACE,OAAO,CAAE,CAChBX,WAAW,CAACS,IAAI,CAACV,QAAQ,CAAC,CAC5B,CAAC,IAAM,CACLa,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC/B,CACF,CAAE,MAAOC,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CACF,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIC,SAAS,EAAK,CACxCb,QAAQ,aAAAc,MAAA,CAAaD,SAAS,CAAE,CAAC,CACjCd,mBAAmB,CAACc,SAAS,CAAC,CAChC,CAAC,CAED,mBACEnB,IAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BpB,QAAQ,CAACqB,GAAG,CAACC,OAAO,eACnBxB,IAAA,QAEE;AACAqB,SAAS,YAAAD,MAAA,CAAahB,gBAAgB,GAAKoB,OAAO,CAACC,EAAE,CAAG,iBAAiB,CAAG,EAAE,CAAG,CACjFC,OAAO,CAAEA,CAAA,GAAMR,kBAAkB,CAACM,OAAO,CAACC,EAAE,CAAE,CAAAH,QAAA,CAE7CE,OAAO,CAACG,IAAI,EALRH,OAAO,CAACC,EAMV,CACN,CAAC,CACC,CAAC,CAEV,CAEA,cAAe,CAAAxB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}