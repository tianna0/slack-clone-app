{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import NavBar from'./NavBar';import'../styles/createChannel.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CreateChannel(){const navigate=useNavigate();const[channelName,setChannelName]=useState('');const[deleteChannelName,setDeleteChannelName]=useState('');const username=sessionStorage.getItem(\"username\");const apiKey=sessionStorage.getItem(\"\".concat(username,\"_api_key\"));async function handleCreateSubmit(event){event.preventDefault();console.log('Creating channel with name:',channelName);try{const response=await fetch('http://127.0.0.1:5000/api/create_channel',{method:'POST',headers:{'Content-Type':'application/json','X-API-Key':apiKey},body:JSON.stringify({channelName:channelName})});const data=await response.json();console.log(\"data create channel: \",data);if(data.Success){console.log('Create Chennel Success:',data);navigate('/home');}else{console.log('Create failed');}}catch(error){console.error('Error during create channel:',error);}}async function handleDeleteSubmit(event){event.preventDefault();console.log('Deleting channel with name:',deleteChannelName);// Delete\n}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{username:sessionStorage.getItem(\"username\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"channel-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-channel-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Channel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"createChannelName\",children:\"Channel Name:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"createChannelName\",type:\"text\",value:channelName,onChange:e=>setChannelName(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Create\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-channel-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Channel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDeleteSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deleteChannelName\",children:\"Channel Name:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"deleteChannelName\",type:\"text\",value:deleteChannelName,onChange:e=>setDeleteChannelName(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"delete-button\",children:\"Delete\"})]})]})]})]});}export default CreateChannel;","map":{"version":3,"names":["React","useState","useNavigate","NavBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateChannel","navigate","channelName","setChannelName","deleteChannelName","setDeleteChannelName","username","sessionStorage","getItem","apiKey","concat","handleCreateSubmit","event","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","Success","error","handleDeleteSubmit","children","className","onSubmit","htmlFor","id","type","value","onChange","e","target","required"],"sources":["/Users/wangchenhui/Desktop/final_project_belay/react/src/components/CreateChannel.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport NavBar from './NavBar';\nimport '../styles/createChannel.css'; \n\nfunction CreateChannel() {\n    const navigate = useNavigate();\n    const [channelName, setChannelName] = useState('');\n    const [deleteChannelName, setDeleteChannelName] = useState('');\n    const username = sessionStorage.getItem(\"username\");\n    const apiKey = sessionStorage.getItem(`${username}_api_key`);\n    \n\n    async function handleCreateSubmit(event) {\n        event.preventDefault();\n        console.log('Creating channel with name:', channelName);\n\n        try {\n            const response = await fetch('http://127.0.0.1:5000/api/create_channel', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-API-Key': apiKey\n              },\n              body: JSON.stringify({\n                channelName: channelName\n              }),\n            });\n            const data = await response.json();\n            console.log(\"data create channel: \", data)\n            if (data.Success) {\n              console.log('Create Chennel Success:', data);\n              navigate('/home'); \n            } else {\n              console.log('Create failed');\n            }\n          } catch (error) {\n            console.error('Error during create channel:', error);\n          }\n    }\n\n    async function handleDeleteSubmit(event) {\n        event.preventDefault();\n        console.log('Deleting channel with name:', deleteChannelName);\n        // Delete\n    }\n\n    return (\n        <>\n            <NavBar username={sessionStorage.getItem(\"username\")} />\n            <div className=\"channel-container\">\n                <div className=\"create-channel-form\">\n                    <h1>Create Channel</h1>\n                    <form onSubmit={handleCreateSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"createChannelName\">Channel Name:</label>\n                            <input\n                                id=\"createChannelName\"\n                                type=\"text\"\n                                value={channelName}\n                                onChange={(e) => setChannelName(e.target.value)}\n                                required\n                            />\n                        </div>\n                        <button type=\"submit\" className=\"submit-button\">Create</button>\n                    </form>\n                </div>\n                <div className=\"delete-channel-form\">\n                    <h1>Delete Channel</h1>\n                    <form onSubmit={handleDeleteSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"deleteChannelName\">Channel Name:</label>\n                            <input\n                                id=\"deleteChannelName\"\n                                type=\"text\"\n                                value={deleteChannelName}\n                                onChange={(e) => setDeleteChannelName(e.target.value)}\n                                required\n                            />\n                        </div>\n                        <button type=\"submit\" className=\"delete-button\">Delete</button>\n                    </form>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default CreateChannel;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}