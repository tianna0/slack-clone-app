{"ast":null,"code":"var _jsxFileName = \"/Users/wangchenhui/Desktop/final_project_belay/react/src/components/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  onLoginClick\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  async function handleLogin(event) {\n    event.preventDefault();\n    console.log('Attempting to login with:', username, password);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: username,\n          pass: password\n        })\n      });\n      const data = await response.json();\n      console.log(\"data login: \", data);\n      if (data.Success) {\n        console.log('Login Success:', data);\n        sessionStorage.setItem('username', data.user_name);\n        sessionStorage.setItem('user_id', data.user_id);\n        sessionStorage.setItem(`${data.user_name}_api_key`, data.api_key);\n        console.log(sessionStorage);\n        onLoginClick(sessionStorage.getItem(\"user_id\"));\n        navigate('/home');\n      } else {\n        console.log('Login failed');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  }\n  async function handleRegister(event) {\n    // navigate('/register');\n    event.preventDefault();\n    console.log('Attempting to signup with:', username, password);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: username,\n          pass: password\n        })\n      });\n      const data = await response.json();\n      console.log(\"data: \", data);\n      console.log(\"data.Success: \", data.success);\n      if (data.Success) {\n        console.log('Signup Success:', data);\n        sessionStorage.setItem('username', data.user_name);\n        sessionStorage.setItem('user_id', data.user_id);\n        sessionStorage.setItem(`${data.user_name}_api_key`, data.api_key);\n        console.log(sessionStorage);\n        navigate('/home');\n      } else {\n        console.log('Signup failed');\n      }\n    } catch (error) {\n      console.error('Error during signup:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to Belay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          type: \"text\",\n          placeholder: \"Please Enter CNetID\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          type: \"password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"login-button\",\n        onClick: handleLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"register-button\",\n        onClick: handleRegister,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"EgYjDAoSBrLcIIdUzvjslMz3nCA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Login","onLoginClick","_s","navigate","username","setUsername","password","setPassword","handleLogin","event","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","user","pass","data","json","Success","sessionStorage","setItem","user_name","user_id","api_key","getItem","error","handleRegister","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","value","onChange","e","target","type","placeholder","required","onClick","_c","$RefreshReg$"],"sources":["/Users/wangchenhui/Desktop/final_project_belay/react/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/login.css';\n\nfunction Login({ onLoginClick }) {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function handleLogin(event) {\n    event.preventDefault(); \n    console.log('Attempting to login with:', username, password);\n\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user: username,\n          pass: password,\n        }),\n      });\n      const data = await response.json();\n      console.log(\"data login: \", data)\n      if (data.Success) {\n        console.log('Login Success:', data);\n        sessionStorage.setItem('username', data.user_name);\n        sessionStorage.setItem('user_id', data.user_id);\n        sessionStorage.setItem(`${data.user_name}_api_key`, data.api_key);\n        console.log(sessionStorage);\n\n        onLoginClick(sessionStorage.getItem(\"user_id\"));\n        navigate('/home'); \n      } else {\n        console.log('Login failed');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  }\n\n\n  async function handleRegister(event) {\n    // navigate('/register');\n    event.preventDefault();  \n    console.log('Attempting to signup with:', username, password);\n\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/signup', {\n        method: 'POST', \n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user: username,\n          pass: password,\n        }),\n      });\n      const data = await response.json();\n      console.log(\"data: \", data)\n      console.log(\"data.Success: \", data.success)\n      if (data.Success) {\n        console.log('Signup Success:', data);\n        sessionStorage.setItem('username', data.user_name);\n        sessionStorage.setItem('user_id', data.user_id);\n        sessionStorage.setItem(`${data.user_name}_api_key`, data.api_key);\n        console.log(sessionStorage);\n        navigate('/home'); \n      } else {\n        console.log('Signup failed');\n      }\n    } catch (error) {\n      console.error('Error during signup:', error);\n    }\n  }\n\n\n  return (\n    <div className=\"login-container\">\n      <h1>Welcome to Belay</h1>\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">Username:</label>\n          <input\n            id=\"username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            type=\"text\"\n            placeholder='Please Enter CNetID'\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            id=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            type=\"password\"\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"login-button\" onClick={handleLogin}>Login</button>\n        <button type=\"button\" className=\"register-button\" onClick={handleRegister}>Sign Up</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}